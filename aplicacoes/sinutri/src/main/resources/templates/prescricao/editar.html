<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="estrutura/dashboard">

<head>
<title>Sinutri | Editar Prescrição</title>

<link rel="stylesheet" type="text/css"
	th:href="@{/css/material-date-picker.css}" />

</head>
<section layout:fragment="title">
	<label class="mdl-layout-title">Editar Prescrição</label>
</section>
<section layout:fragment="conteudo">
	<div class="mdl-grid">
		<div
			class="sn-breadcrumbs__position mdl-cell mdl-cell--10-col-desktop mdl-cell--1-offset-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone mdl-grid sn-main-grid">
			<div class="mdl-cell mdl-cell--11-col ">
				<a th:href="@{/Nutricao/Buscar}"
					class="sn-breadcrumbs sn-attribute__title">Início</a> <a
					th:href="@{${'/Paciente/'+prescricao.paciente.id}}"
					class="sn-breadcrumbs sn-attribute__title">Paciente</a> <a
					class="sn-attribute__title sn-breadcrumbs">Editar Prescrição</a>
			</div>
			<form
				class="sn-form mdl-cell
	            mdl-cell--12-col-desktop mdl-cell--8-col-tablet
	            mdl-cell--4-col-phone
	            mdl-grid mdl-grid--no-spacing
	            sn-main-card"
				id="form-prescricao" action="#" th:object="${prescricao}"
				th:method="post"
				th:action="@{${'/Paciente/'+prescricao.paciente.id+'/Prescricao/'+prescricao.id+'/Editar'}}">

				<input type="hidden" id="id" th:field="*{id}" /> <input
					type="hidden" id="id" th:field="*{paciente.id}" /> <input
					type="hidden" id="id" th:field="*{nutricionista.id}" /> <input
					type="hidden" id="atualizadoEm" th:field="*{atualizadoEm}" />

				<div class="mdl-cell mdl-cell--12-col sn-card">
				<div
					class="mdl-layout-title mdl-color-text--blue-600 sn-padding--48">
					Editar Prescrição
					<div id="div_arrow" class="sn-colapse-div sn-attribute__title">
						<span
							th:text="${prescricao.paciente.pessoa.nome+', '+prescricao.paciente.pessoa.getIdade()+' anos'}"></span>
						<i class="sn-breadcrumbs__icon material-icons arrow_icon_position">keyboard_arrow_down</i>
					</div>
					
	
				</div>
				<div class="sn-form__hdivider sn-margin--none"></div>
				<div class="sn-colapsable-div sn-padding--48 mdl-color--white">
	
					<div class="mdl-grid mdl-grid--no-spacing">
							
						<div class="sn-attribute mdl-cell mdl-cell--4-col">
							<div class="sn-attribute__title">Sexo</div>
							<div class="sn-attribute__value"
								th:text="${prescricao.paciente.pessoa.sexo}"></div>
						</div>
	
						<div class="sn-attribute mdl-cell mdl-cell--4-col">
							<div class="sn-attribute__title">Telefone</div>
							<div class="sn-attribute__value"
								th:text="${prescricao.paciente.pessoa.telefone}"></div>
						</div>
	
						<div class="sn-attribute mdl-cell mdl-cell--4-col">
							<div class="sn-attribute__title">Email</div>
							<div class="sn-attribute__value"
								th:text="${prescricao.paciente.pessoa.email}"></div>
						</div>
	
						<div class="sn-attribute mdl-cell mdl-cell--4-col">
							<div class="sn-attribute__title">CPF</div>
							<div class="sn-attribute__value"
								th:text="${prescricao.paciente.pessoa.cpf}"></div>
						</div>
	
						<div class="sn-attribute mdl-cell mdl-cell--4-col">
							<div class="sn-attribute__title">Cargo/Ocupação</div>
							<div class="sn-attribute__value"
								th:text="${prescricao.paciente.pessoa.ocupacaoOuCargo}"></div>
						</div>
	
						<div class="sn-attribute mdl-cell mdl-cell--4-col">
							<div class="sn-attribute__title">Vínculo</div>
							<div class="sn-attribute__value"
								th:text="${prescricao.paciente.pessoa.vinculo}"></div>
						</div>
					</div>
				</div>
	
			</div>
	

				<div
					class="sn-card-top mdl-cell mdl-cell--12-col sn-card sn-padding--48 mdl-color--white mdl-grid">

					<div class="sn-textfield mdl-cell mdl-cell--6-col">
						<label class="sn-textfield__label" for="inputDataCriacao">Data
							de Criação</label> <label class="sn-textfield__messages sn-error-text"
							th:if="${#fields.hasErrors('criadoEm')}" th:errors="*{criadoEm}">
							Erro na descrição </label> <input
							class="sn-textfield__input sn-date-picker" type="text"
							id="inputDataCriacao" th:field="*{criadoEm}" />
					</div>

					<div class="sn-textfield mdl-cell mdl-cell--12-col">
						<label class="sn-textfield__label" for="inputTextDescricao">Descrição</label>
						<label class="sn-textfield__messages sn-error-text"
							th:if="${#fields.hasErrors('descricao')}"
							th:errors="*{descricao}"> Erro na descrição </label> <input
							class="sn-textfield__input" type="text" id="inputTextDescricao"
							th:field="*{descricao}" maxlength="255" />
					</div>

					<div class="sn-textfield mdl-cell mdl-cell--12-col">
						<label class="sn-textfield__label" for="inputTextTexto">Texto</label>
						<label class="sn-textfield__messages sn-error-text"
							th:if="${#fields.hasErrors('texto')}" th:errors="*{texto}">
							Erro na descrição </label>
						<textarea class="sn-textfield__input" rows="5" id="inputTextTexto"
							th:field="*{texto}" maxlength="255"></textarea>
					</div>

					<div class="sn-form-actions">
						<input type="submit"
							class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect"
							value="Salvar" data-upgraded=",MaterialButton,MaterialRipple"></input>
						<a id="cancelar"
							th:href="@{${'/Paciente/'+prescricao.paciente.id+'/Prescricao/'+prescricao.id}}"
							type="button"
							class="mdl-button mdl-js-button mdl-button--colored mdl-js-ripple-effect"
							data-upgraded=",MaterialButton,MaterialRipple"> Cancelar </a>
					</div>
				</div>
			</form>

		</div>

	</div>

</section>
<section layout:fragment="js">
	<script type="text/javascript" th:src="@{/js/moment.js}"></script>
	<script type="text/javascript" th:src="@{/js/material-date-picker.js}"></script>
	<script type="text/javascript">
		$("#cancelar").click(function(event) {
			var dialog = sn_base.doRegistryDialog({
				title : "Você realmente deseja descartar as alterações?",
				dialog : "#modal-cancelar",
				buttons : [ {
					label : "SIM",
					attrs : {
						href : $(this).attr("href")
					},
					action : function() {
						dialog.close();
					}
				}, {
					label : "NÃO",
					action : function() {
						dialog.close();
					}
				} ]
			});
			dialog.showModal();
			event.preventDefault();
		});
	</script>
</section>

</html>
